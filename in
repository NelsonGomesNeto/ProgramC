Code = DeclFuncOpt Code | DeclFuncOpt

DeclFuncOpt = 'entryPoint' DeclFunc | DeclFunc
DeclFunc = 'function' 'id' 'opParen' 'clParen' 'isType' Type Body | 'function' 'id' 'opParen' FuncDeclVar 'clParen' 'isType' Type Body | 'function' 'id' 'opParen' 'clParen' Body | 'function' 'id' 'opParen' FuncDeclVar 'clParen' Body

FuncDeclVar = IdsList 'isType' Type 'comma' FuncDeclVar | IdsList 'isType' Type
DeclVars = IdsList 'isType' Type
ParamList = Expr 'comma' ParamList | Expr

IdsList = 'id' 'comma' IdsList | 'id'

Literal = 'bool' | 'int' | 'real' | 'scynot' | 'char' | 'string'
Value = Literal | FuncCall | Array | 'id'

Type = 'typeBool' | 'typeInt' | 'typeReal' | 'typeChar' | 'typeString' | TypeArray
TypeArray = 'typeArray' 'opBrackets' 'clBrackets' 'of' Type | 'typeArray' 'opBrackets' Expr 'clBrackets' 'of' Type
Array = 'id' ArrayPos
ArrayPos = 'opBrackets' Expr 'clBrackets' ArrayPos | 'opBrackets' Expr 'clBrackets'

Body = 'opBraces' Lines 'clBraces' | 'opBraces' 'clBraces'

Lines = Line Lines | Line | 'returnFun' Expr | 'returnFun'
Line = Statement 'comma' Line | Statement
Statement = DeclVars | FuncCall | If | Loop | Attrib

Attrib = LeftAttrib 'attrib' Expr
LeftAttrib = 'id' | Array

If = 'ifSel' 'opParen' Expr 'clParen' Body | 'ifSel' 'opParen' Expr 'clParen' Body ElIfAux
ElIfAux = 'elseSel' Body | 'elseSel' If | 'elifSel' 'opParen' Expr 'clParen' ElIf
ElIf = Body ElIfAux | Body

Expr = Expr 'logicOr' ExprAnd | ExprAnd
ExprAnd = ExprAnd 'logicAnd' ExprBor | ExprBor
ExprBor = ExprBor 'bitOr' ExprBxor | ExprBxor
ExprBxor = ExprBxor 'bitXor' ExprBand | ExprBand
ExprBand = ExprBand 'bitAnd' ExprEq | ExprEq
ExprEq = ExprEq 'eqOrDiff' ExprRel | ExprRel
ExprRel = ExprRel 'relational' ExprShift | ExprShift
ExprShift = ExprShift 'bitShift' ExprAdd | ExprAdd
ExprAdd = ExprAdd 'plus' ExprMult | ExprAdd 'minus' ExprMult | ExprMult
ExprMult = ExprMult 'mult' ExprPow | ExprPow
ExprPow = ExprPow 'exp' ExprUnary | ExprUnary
ExprUnary = 'minus' ExprCast | 'unary' ExprCast | ExprCast
ExprCast = ExprFac 'asCast' Type | ExprFac
ExprFac = Value | 'opParen' Expr 'clParen'

FuncCall = 'id' 'opParen' ParamList 'clParen' | 'id' 'opParen' 'clParen'
Loop = 'repeat' 'whileLoop' 'opParen' Expr 'clParen' Body | 'repeat' 'opParen' 'id' 'attrib' Expr 'to' Expr 'clParen' Body
